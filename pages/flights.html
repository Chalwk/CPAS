<!-- Copyright (c) 2025-2026. Jericho Crosby (Chalwk) -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Live Flights - Coastal Peaks Air Service</title>
    <link href="../styles/index.css" rel="stylesheet">
    <link href="../styles/core.css" rel="stylesheet">
    <link href="../styles/flights.css" rel="stylesheet">
    <link href="../images/logo.png" rel="icon" type="image/x-icon">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@300;400;600&display=swap"
          rel="stylesheet">
</head>
<body>

<nav class="navbar">
    <div class="container nav-container">
        <a class="logo" href="../index.html">
            <span class="logo-text">CPAS</span>
            <span class="logo-subtitle">Coastal Peaks Air Service</span>
        </a>
        <ul class="nav-menu">
            <li><a href="../index.html">Home</a></li>
            <li><a href="fleet.html">Fleet</a></li>
            <li><a href="routes.html">Routes</a></li>
            <li><a href="training.html">Training</a></li>
            <li><a href="operations.html">Operations</a></li>
            <li><a class="active" href="flights.html">Live Flights</a></li>
            <li><a href="addons.html">Add-Ons</a></li>
            <li><a href="../index.html#discord">Join</a></li>
        </ul>
        <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</nav>

<section class="flights-section" style="margin-top: 70px;">
    <div class="container">
        <h2 class="section-title">Live Flight Operations</h2>
        <p class="section-subtitle">
            Track live flights conducted by CPAS pilots
        </p>

        <div class="flights-controls">
            <div class="controls-left">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <label for="searchInput"></label><input id="searchInput"
                                                            placeholder="Search flights, pilots, or airports..."
                                                            type="text">
                </div>
                <div class="filter-group">
                    <label for="statusFilter"></label><select class="filter-select" id="statusFilter">
                    <option value="all">All Status</option>
                    <option value="completed">Completed</option>
                    <option value="in-progress">In Progress</option>
                    <option value="scheduled">Scheduled</option>
                </select>
                    <label for="aircraftFilter"></label><select class="filter-select" id="aircraftFilter">
                    <option value="all">All Aircraft</option>
                    <option value="Piper Archer II">Piper Archer II</option>
                    <option value="Piper Arrow III">Piper Arrow III</option>
                    <option value="Piper Turbo Arrow III">Piper Turbo Arrow III</option>
                    <option value="Piper Arrow IV">Piper Turbo Arrow IV</option>
                    <option value="Piper Seneca V">Piper Seneca V</option>
                    <option value="Piper Tomahawk">Piper Tomahawk</option>
                    <option value="Piper Warrior II">Piper Warrior II</option>
                    <option value="Robinson R44">Robinson R44</option>
                    <option value="Robinson R66">Robinson R66</option>
                    <option value="Airbus AS350">Airbus H125 (AS350)</option>
                    <option value="Airbus H145">Airbus H145</option>
                </select>
                    <label for="missionFilter"></label><select class="filter-select" id="missionFilter">
                    <option value="all">All Types</option>
                    <option value="SimBrief">Normal Flights</option>
                    <option value="MissionReport">Missions</option>
                    <option value="SAR">Search & Rescue</option>
                    <option value="MEDEVAC">Medical Evac</option>
                    <option value="PATIENT">Patient Transfer</option>
                    <option value="TOUR_GLACIER">Glacier Tours</option>
                    <option value="TOUR_SIGHTSEEING">Sightseeing</option>
                    <option value="TRAINING">Training</option>
                    <option value="FIRE">Firefighting</option>
                </select>
                </div>
            </div>
            <div class="stats-summary">
                <span class="stat-item">
                    <i class="fas fa-plane-departure"></i>
                    <span id="totalFlights">0</span> Flights
                </span>
                <span class="stat-item">
                    <i class="fas fa-clock"></i>
                    <span id="totalHours">0</span> Hours
                </span>
                <span class="stat-item">
                    <i class="fas fa-route"></i>
                    <span id="totalDistance">0</span> nm
                </span>
            </div>
        </div>

        <div class="flights-container">
            <div class="flights-table-container">
                <table class="flights-table" id="flightsTable">
                    <thead>
                    <tr>
                        <th data-sort="flightNumber">Flight #</th>
                        <th data-sort="departure_date">Date</th>
                        <th data-sort="departure_time_utc">Departure</th>
                        <th data-sort="arrival_time_utc">Arrival</th>
                        <th data-sort="pilot">Pilot</th>
                        <th data-sort="aircraft">Aircraft</th>
                        <th data-sort="route">Route</th>
                        <th data-sort="flightTime">Flight Time</th>
                        <th data-sort="status">Status</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody id="flightsTableBody">
                    <!-- Populated by JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="flight-details-sidebar" id="flightDetails">
                <div class="sidebar-header">
                    <h3>Flight Details</h3>
                    <button class="close-sidebar" id="closeSidebar">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="sidebar-content">
                    <div class="detail-section">
                        <h4><i class="fas fa-info-circle"></i> Flight Information</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <span class="detail-label">Flight Number:</span>
                                <span class="detail-value" id="detailFlightNumber">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Callsign:</span>
                                <span class="detail-value" id="detailCallsign">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Date:</span>
                                <span class="detail-value" id="detailDate">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Status:</span>
                                <span class="detail-value status-badge" id="detailStatus">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4><i class="fas fa-route"></i> Route Information</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <span class="detail-label">Departure:</span>
                                <span class="detail-value airport-code" id="detailDeparture">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Arrival:</span>
                                <span class="detail-value airport-code" id="detailArrival">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Alternate:</span>
                                <span class="detail-value airport-code" id="detailAlternate">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Cruise Altitude:</span>
                                <span class="detail-value" id="detailCruiseAlt">-</span>
                            </div>
                            <div class="detail-item full-width">
                                <span class="detail-label">Route:</span>
                                <span class="detail-value" id="detailRoute">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Distance:</span>
                                <span class="detail-value" id="detailDistance">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Flight Time:</span>
                                <span class="detail-value" id="detailFlightTime">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Block Time:</span>
                                <span class="detail-value" id="detailBlockTime">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4><i class="fas fa-plane"></i> Aircraft Information</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <span class="detail-label">Aircraft:</span>
                                <span class="detail-value" id="detailAircraft">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Registration:</span>
                                <span class="detail-value" id="detailAircraftReg">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">ICAO Code:</span>
                                <span class="detail-value" id="detailAircraftIcao">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Pax Count:</span>
                                <span class="detail-value" id="detailPaxCount">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4><i class="fas fa-user-pilot"></i> Pilot Information</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <span class="detail-label">Pilot:</span>
                                <span class="detail-value" id="detailPilot">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Pilot ID:</span>
                                <span class="detail-value" id="detailPilotId">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4><i class="fas fa-file-alt"></i> Source</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <span class="detail-label">Source:</span>
                                <span class="detail-value" id="detailSource">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Timestamp:</span>
                                <span class="detail-value" id="detailTimestamp">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="pagination" id="pagination">
            <button class="pagination-btn" disabled id="prevPage">
                <i class="fas fa-chevron-left"></i> Previous
            </button>
            <div class="page-numbers" id="pageNumbers"></div>
            <button class="pagination-btn" id="nextPage">
                Next <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <div class="flights-summary">
            <div class="summary-card">
                <h4><i class="fas fa-chart-pie"></i> Flight Statistics</h4>
                <div class="summary-stats">
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: #2d6bc9;">
                            <i class="fas fa-plane"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="statsTotalFlights">0</div>
                            <div class="stat-label">Total Flights</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: #059669;">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="statsAvgFlightTime">0:00</div>
                            <div class="stat-label">Avg Flight Time</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: #7c3aed;">
                            <i class="fas fa-route"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="statsTotalDistance">0</div>
                            <div class="stat-label">Total Distance (nm)</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background-color: #dc2626;">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="statsActivePilots">1</div>
                            <div class="stat-label">Active Pilots</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="summary-card">
                <h4><i class="fas fa-trophy"></i> Top Pilots This Month</h4>
                <div class="top-pilots" id="topPilots">
                    <!-- Populated by JavaScript -->
                </div>
            </div>

            <div class="summary-card">
                <h4><i class="fas fa-plane-departure"></i> Most Popular Routes</h4>
                <div class="popular-routes" id="popularRoutes">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </div>

        <div class="data-refresh">
            <p><i class="fas fa-sync-alt"></i> Flight data is updated automatically. Last updated: <span
                    id="lastUpdated">1</span></p>
            <button class="btn btn-small" id="refreshData">
                <i class="fas fa-redo"></i> Refresh Data
            </button>
        </div>
    </div>
</section>

<footer class="footer-copyright"><p></p></footer>

<script src="../script.js"></script>
<script src="../js/recent_flights.js"></script>
</body>
</html>